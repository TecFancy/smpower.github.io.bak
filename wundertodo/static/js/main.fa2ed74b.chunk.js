(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,n){e.exports=n(52)},33:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){},47:function(e,t,n){},49:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(16),o=n.n(i),r=n(53),c=n(21),u=n(11),l=n(19),m=n(3),p=n(4),h=n(6),d=n(5),g=n(7),b=n(2),E=n(1),I=n.n(E),v=function(e){var t=e.onNameInputChange,n=e.onEmailInputChange,a=e.onPasswordInputChange,i=e.nameInputValue,o=e.emailInputValue,r=e.passwordInputValue,c=e.onSubmit;return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"register"},s.a.createElement("div",{className:"register-logo"},s.a.createElement("i",{className:"register-logo-icon"}),s.a.createElement("h1",{className:"register-logo-title"},"Get Wundertodo For Free")),s.a.createElement("div",{className:"register-inner"},s.a.createElement("div",{className:"register-item register-name"},s.a.createElement("i",{className:"register-item-icon register-name-icon"}),s.a.createElement("input",{type:"text",className:"register-item-input register-name-input",placeholder:"Name",onChange:t,value:i})),s.a.createElement("div",{className:"register-item register-email"},s.a.createElement("i",{className:"register-item-icon register-email-icon"}),s.a.createElement("input",{type:"text",className:"register-item-input register-email-input",placeholder:"Email",onChange:n,value:o})),s.a.createElement("div",{className:"register-item register-password"},s.a.createElement("i",{className:"register-item-icon register-password-icon"}),s.a.createElement("input",{type:"password",className:"register-item-input register-password-input",placeholder:"Password",onChange:a,value:r})),s.a.createElement("div",{className:"register-item register-submit"},s.a.createElement("button",{type:"button",className:"register-submit-btn",onClick:c},"Create Free Account"))),s.a.createElement("div",{className:"register-login"},s.a.createElement("span",{className:"register-login-text"},"Have an account already?",s.a.createElement("a",{href:"/#/login"},"Sign in")))))},f=function(e){return{type:"REGIST/FAILURE",err:e}},O=(n(33),function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).apply(this,arguments))).onChange=e.onChange.bind(Object(b.a)(Object(b.a)(e))),e.onNameInputChange=e.onNameInputChange.bind(Object(b.a)(Object(b.a)(e))),e.onEmailInputChange=e.onEmailInputChange.bind(Object(b.a)(Object(b.a)(e))),e.onPasswordInputChange=e.onPasswordInputChange.bind(Object(b.a)(Object(b.a)(e))),e.onSubmit=e.onSubmit.bind(Object(b.a)(Object(b.a)(e))),e.state={nameInputValue:"",emailInputValue:"",passwordInputValue:""},e}return Object(g.a)(t,e),Object(p.a)(t,[{key:"onChange",value:function(){var e=this.context.store.getState().register,t=e.status,n=e.isRegisted;"success"===t&&n&&this.props.history.push("/login")}},{key:"onNameInputChange",value:function(e){this.setState({nameInputValue:e.target.value.trim()})}},{key:"onEmailInputChange",value:function(e){this.setState({emailInputValue:e.target.value.trim()})}},{key:"onPasswordInputChange",value:function(e){this.setState({passwordInputValue:e.target.value.trim()})}},{key:"onSubmit",value:function(){var e,t,n;this.context.store.dispatch((e=this.state.nameInputValue,t=this.state.emailInputValue,n=this.state.passwordInputValue,function(a){a({type:"REGIST/STARTED"}),fetch("http://47.110.53.31:1115/todo/regist",{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({username:e,email:t,password:n})}).then(function(e){if(200===e.status)return e.json();a(f())}).then(function(e){a(function(e){return{type:"REGIST/SUCCESS",resJson:e}}(e))}).catch(function(e){a(f(e))})}))}},{key:"render",value:function(){return s.a.createElement(v,{onNameInputChange:this.onNameInputChange,onEmailInputChange:this.onEmailInputChange,onPasswordInputChange:this.onPasswordInputChange,nameInputValue:this.state.nameInputValue,emailInputValue:this.state.emailInputValue,passwordInputValue:this.state.passwordInputValue,onSubmit:this.onSubmit})}},{key:"componentDidMount",value:function(){this.setState({unsubscribe:this.context.store.subscribe(this.onChange)})}},{key:"componentWillUnmount",value:function(){this.state.unsubscribe()}}]),t}(a.Component));O.contextTypes={store:I.a.object};var j=O,w=n(12),C=function(e){var t=e.onEmailInputFocus,n=e.onEmailInputBlur,a=e.onEmailInputChange,i=e.emailInputValue,o=e.emailPlaceholderClass,r=e.onPasswordInputFocus,c=e.onPasswordInputBlur,u=e.onPasswordInputChange,l=e.passwordInputValue,m=e.passwordPlaceholderClass,p=e.onSignin;return s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"login"},s.a.createElement("div",{className:"login-logo"},s.a.createElement("i",{className:"login-logo-icon"})),s.a.createElement("div",{className:"login-inner"},s.a.createElement("div",{className:"login-item login-email"},s.a.createElement("i",{className:"login-item-icon login-email-icon"}),s.a.createElement("input",{type:"text",autoFocus:!0,className:"login-item-input login-email-input",onFocus:t,onBlur:n,onChange:a,value:i}),s.a.createElement("span",{className:"login-item-placeholder login-email-placeholder "+o},"Email")),s.a.createElement("div",{className:"login-item login-password"},s.a.createElement("i",{className:"login-item-icon login-password-icon"}),s.a.createElement("input",{type:"password",className:"login-item-input login-password-input",onFocus:r,onBlur:c,onChange:u,value:l}),s.a.createElement("span",{className:"login-item-placeholder login-password-placeholder "+m},"Password")),s.a.createElement("div",{className:"login-item login-submit"},s.a.createElement("button",{type:"button",className:"login-submit-signin",onClick:p},"Sign in")),s.a.createElement("div",{className:"login-item login-link"},s.a.createElement("a",{href:"/#/findpwd",className:"login-link-item login-link-forgot"},"Forgot your password?"),s.a.createElement("a",{href:"/#/register",className:"login-link-item login-link-register"},"Create Account")))))},N=function(e){return{type:"LOGIN/FAILURE",error:e}},y=(n(35),function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).apply(this,arguments))).onChange=e.onChange.bind(Object(b.a)(Object(b.a)(e))),e.onEmailInputFocus=e.onEmailInputFocus.bind(Object(b.a)(Object(b.a)(e))),e.onEmailInputBlur=e.onEmailInputBlur.bind(Object(b.a)(Object(b.a)(e))),e.onEmailInputChange=e.onEmailInputChange.bind(Object(b.a)(Object(b.a)(e))),e.onPasswordInputFocus=e.onPasswordInputFocus.bind(Object(b.a)(Object(b.a)(e))),e.onPasswordInputBlur=e.onPasswordInputBlur.bind(Object(b.a)(Object(b.a)(e))),e.onPasswordInputChange=e.onPasswordInputChange.bind(Object(b.a)(Object(b.a)(e))),e.onSignin=e.onSignin.bind(Object(b.a)(Object(b.a)(e))),e.state={emailInputFocused:!1,passwordInputFocused:!1,emailInputValue:"",passwordInputValue:""},e}return Object(g.a)(t,e),Object(p.a)(t,[{key:"onChange",value:function(){var e=this.context.store.getState().login,t=e.status,n=e.isLogined;"success"===t&&n&&this.props.history.push("/main")}},{key:"onEmailInputFocus",value:function(){this.setState({emailInputFocused:!0})}},{key:"onEmailInputBlur",value:function(){""===this.state.emailInputValue.trim()&&this.setState({emailInputFocused:!1})}},{key:"onEmailInputChange",value:function(e){this.setState({emailInputValue:e.target.value})}},{key:"onPasswordInputFocus",value:function(){this.setState({passwordInputFocused:!0})}},{key:"onPasswordInputBlur",value:function(){""===this.state.passwordInputValue.trim()&&this.setState({passwordInputFocused:!1})}},{key:"onPasswordInputChange",value:function(e){this.setState({passwordInputValue:e.target.value})}},{key:"onSignin",value:function(){var e,t,n=this.state,a=n.emailInputValue,s=n.passwordInputValue;if(""===a||""===s)return alert("\u8bf7\u5b8c\u5584\u767b\u5f55\u4fe1\u606f"),void console.log("\u8bf7\u5b8c\u5584\u767b\u5f55\u4fe1\u606f");this.context.store.dispatch((e=a,t=s,function(n){fetch("/todo/login",{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({email:e,password:t})}).then(function(e){if(200===e.status)return e.json();n(N())}).then(function(e){n(function(e){return{type:"LOGIN/SUCCESS",resJson:e}}(e))}).catch(function(e){n(N(e))})}))}},{key:"render",value:function(){return s.a.createElement(C,{onEmailInputFocus:this.onEmailInputFocus,onEmailInputBlur:this.onEmailInputBlur,onEmailInputChange:this.onEmailInputChange,emailInputValue:this.state.emailInputValue,emailPlaceholderClass:this.state.emailInputFocused?"active":"",onPasswordInputFocus:this.onPasswordInputFocus,onPasswordInputBlur:this.onPasswordInputBlur,onPasswordInputChange:this.onPasswordInputChange,passwordInputValue:this.state.passwordInputValue,passwordPlaceholderClass:this.state.passwordInputFocused?"active":"",onSignin:this.onSignin})}},{key:"componentDidMount",value:function(){this.setState({unsubscribe:this.context.store.subscribe(this.onChange)})}},{key:"componentWillUnmount",value:function(){this.state.unsubscribe()}}]),t}(a.Component));y.contextTypes={store:I.a.object};var S=y,k=Object(u.c)({register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:"loading"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGIST/STARTED":return{status:"loading"};case"REGIST/SUCCESS":return Object(w.a)({status:"success"},t.resJson);case"REGIST/FAILURE":return Object(w.a)({status:"failure"},t.error);default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:"loading"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN/STARTED":return{status:"loading"};case"LOGIN/SUCCESS":return Object(w.a)({status:"success"},t.resJson);case"LOGIN/FAILURE":return Object(w.a)({status:"failure"},t.error);default:return e}}}),F=Object(u.d)(k,Object(u.a)(l.a)),P=(n(37),n(54)),V=(n(39),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"search-toolbar"},s.a.createElement("div",{className:"search-menu-wrapper"},s.a.createElement("i",{className:"search-menu-icon"})),s.a.createElement("div",{className:"search-input-wrapper"},s.a.createElement("input",{className:"search-input",type:"text"})),s.a.createElement("div",{className:"search-icon-wrapper"},s.a.createElement("i",{className:"search-icon"})))}}]),t}(a.Component)),T=(n(41),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"user-toolbar"},s.a.createElement("div",{className:"user"},s.a.createElement("i",{className:"user-avatar"}),s.a.createElement("span",{className:"user-name"},"rf.wangchn"),s.a.createElement("i",{className:"user-arrow-icon"}),s.a.createElement("span",{className:"sync"})),s.a.createElement("div",{className:"stream-counts"},s.a.createElement("i",{className:"bell-icon"}),s.a.createElement("i",{className:"conversation-icon"})))}}]),t}(a.Component)),x=(n(43),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"lists-toolbar"},"ListsToolbar Component")}}]),t}(a.Component)),B=(n(45),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"create-toolbar"},"CreateToolbar Component")}}]),t}(a.Component)),R=(n(47),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"navigation active"},s.a.createElement("div",{className:"navigation-inner"},s.a.createElement(V,null),s.a.createElement(T,null),s.a.createElement(x,null),s.a.createElement(B,null)))}}]),t}(a.Component)),G=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"content"},"Content Component")}}]),t}(a.Component),U=(n(49),[{path:"/register",component:j},{path:"/login",component:S},{exact:!0,path:"/main",component:function(){return s.a.createElement("div",{className:"main"},s.a.createElement(R,null),s.a.createElement(G,null))}}]),L=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},U.map(function(e,t){return s.a.createElement(P.a,{key:t,exact:e.exact,path:e.path,component:e.component})}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(c.a,{store:F},s.a.createElement(r.a,null,s.a.createElement(L,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,2,1]]]);
//# sourceMappingURL=main.fa2ed74b.chunk.js.map